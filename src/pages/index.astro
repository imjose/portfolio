---
import Layout from '@layouts/Layout.astro';

import Profile from '@components/Profile.astro';
import Contact from '@components/Contact.astro';

import ContentLink from '@components/ContentLink.astro';
import ContentStack from '@components/ContentStack.astro';
import ContentExperience from '@components/ContentExperience.astro';
---

<Layout>

    <main class="flex flex-col md:flex-row w-full max-w-full md:max-w-7xl rounded-sm border-2 overflow-hidden shadow-2xl relative bg-dos-panel mb-12 md:mb-4">

        <div class="p-8 md:p-6 flex flex-col justify-between w-full md:w-2/5 border-b md:border-b-0 md:border-r-2">

            <Profile />

            <Contact />

        </div>

        <div class="w-full md:w-3/5 xl:w-4/5 p-0">

            <div class="min-h-full h-[90vh] flex flex-col overflow-y-scroll scrollbar-hide">

                <!-- radio buttons to control the tabs -->
                <div class="tab-controls">

                    <input
                        type="radio"
                        id="tab1"
                        name="tabs"
                        class="tab-radio"
                        checked
                    />

                    <input
                        type="radio"
                        id="tab2"
                        name="tabs"
                        class="tab-radio"
                    />
                    
                    <!-- <input
                        type="radio"
                        id="tab3"
                        name="tabs"
                        class="tab-radio"
                        disabled
                    /> -->

                    <!-- Tab bar -->
                    <div class="flex bg-dos-cyan sticky top-0 z-10">

                        <ContentLink
                            contentId="tab1"
                            contentName="stack.ts"
                        />

                        <ContentLink
                            contentId="tab2"
                            contentName="experience.md"
                        />

                        <!-- <ContentLink
                            contentId="tab3"
                            contentName="blog.doc"
                        /> -->

                    </div>
                    <!-- End: Tab bar -->

                    <!-- Content -->
                    <div class="p-6 flex-grow overflow-y-auto bg-dos-panel">

                        <div id="content1" class="tab-content">
                            <ContentStack />
                        </div>

                        <div id="content2" class="tab-content">
                            <ContentExperience />
                        </div>

                        <!-- <div id="content3" class="tab-content">
                            <ContentBlog />
                        </div> -->

                    </div>
                    <!-- End: Content -->

                </div>

            </div>

        </div>

    </main>

</Layout>

<style is:global>

    /* Hide the radio buttons */
    .tab-radio {
        @apply absolute opacity-0 pointer-events-none;
    }

    /* Default state - hide all tab content */
    .tab-content {
        @apply hidden opacity-0;
        transition: opacity 0.3s ease-in-out;
    }

    /* Default state for tab links */
    .tab-link {
        @apply border-b-2 border-transparent border-dos-accent bg-transparent;
        transition: background-color 0.2s ease-in-out;
    }

    /* When tab1 is checked, show content1 and highlight its tab */
    #tab1:checked ~ * #content1 {
        @apply block opacity-100;
    }

    #tab1:checked ~ .flex .tab-link:nth-child(1) {
        @apply bg-dos-accent border-slate-100 hover:text-slate-100;
    }

    /* When tab2 is checked, show content2 and highlight its tab */
    #tab2:checked ~ * #content2 {
        @apply block opacity-100;
    }

    #tab2:checked ~ .flex .tab-link:nth-child(2) {
        @apply bg-dos-accent border-slate-100 hover:text-slate-100;
    }
    
    /* When tab3 is checked, show content3 and highlight its tab */
    #tab3:checked ~ * #content3 {
        @apply block opacity-100;
    }

    #tab3:checked ~ .flex .tab-link:nth-child(3) {
        @apply bg-dos-accent border-slate-100 hover:text-slate-100;
    }

</style>